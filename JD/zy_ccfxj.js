/*
tgchannel：https://t.me/Ariszy_Script
github：https://github.com/Ariszy/script
boxjs：https://raw.githubusercontent.com/Ariszy/Private-Script/master/Ariszy.boxjs.json

*/
const $ = new Env('城城分现金互助')
const notify = $.isNode() ?require('./sendNotify') : '';
var _0xod1='jsjiami.com.v6',_0x116a=[_0xod1,'woNsdXHCgA==','CMODwpRk','w6vDoxdg','w49XEcOHworDv8Om','YifCpAXCig==','w4U9XTrCig==','XMKhMGsw','w5zCn8OT','w5I9fTPCiR4=','w5DDh1LDtRHDvA==','w4RdAsOmwpnDuQ==','w6RSPCnCgQ==','wqxfw5XDq8Kb','acO/woM/w7Q=','w6ImLcONw4I=','NiDDigHCig==','wrpFwrx2w5k=','w57DoyloNQ==','wqtywpN8w6LCuw==','ZcKBw43Cmw==','wrRTSEc=','XsONXQ==','c37DoFnDlA==','wqvCpyfCoBQ=','w6TCjcOGwp8qw4bDjMO1','5Y6b5bOE5Yuo5Yme44Gi','w5/Dh1vDux8=','wqrCjcKkwokxJQ==','McOnwpJBw5o=','AxIzwq5p','WzbCiw==','w7M7worDvMOP','wpfCksK6w61a','5q+G5Yqm5YiA','XsOHVMO5w7IV','dyI6','NURAw5vCg0jDj8OMwq/Coxc8e03DrsKJDsO/wo/CuWvDlcKBIsKyw6PDv8OlPsKQEsOqw6PCncORwrplw53DhcOWw745OsOgTTQ9w5ULw5t8QsO8CEsAOk/DsMK5wr1ow6zClsK5YcKhG8K+wqHDvg3CqMK8wrrDrGNdMitTaw==','w5g8F8Obw54=','I15dw4w=','wq1RfMOBw5M=','w7PDhSbChmc=','Ej5/','wpfDpAssMQ==','X8Omwokzw7TCqzw=','LiIywoI=','w6B+HzHCncKQ','woccfh8=','wqvChMO8fRoa','UcODXjs=','w4TDi03DtBjDug==','w5vDuBJxFMKj','w5rDgVk=','wqfCl2cHw6E=','XV3Do3DDlg==','JB3Cgzc=','w4PCm8OQwpgIw5M=','Cj55w5rCtX0=','wpd5ecOYw47Dtw==','5Yuj5YuYZuODsw==','wrvCisOpbw==','w67DlzM=','UMOtUD3CsA==','wop8w7w=','RcOXQDzCnA==','woUgRVoq','PsO8w5jDqj4=','w509dQ==','FzLCs8KQ','R8KVE1oM','ecKbw5nCthYa','dMOKaTPCoQ==','wqvCmyE3wr0=','w75nEsOZwo8=','wr/Cti7DgsOq','w6Yjw7bCl8Oi','wozCjmUBw70=','NURAw5vCg0jDj8OMwq/Coxc8e03DrsKJDsO/wo/CuWvDlcKBIsKyw6PDv8OlPsKQEsOqw6PCncORwrplw53DhcOWw745OsOgTTQ9w5ULw5t8QsO8CEsAOk/DsMK5wr1ow6zClsK5YcKhG8K+wqHDvg3CqMK8wrrDrGNdMitTaw/DnWXCv8OUwoHDqErDp0rCrMKrw4TDog7DsMK/O8OnIC7DqcK5JsKcISlPacOdYEFBwpg+wrPCgMKiwrHCjTTDol5Vw5XClcOOEgcSwpPCgT5dw7jCj8OXfVDChw==','w55uwrUQwpw=','wrXCnMOJZjY=','c8OPZz3Cpw==','wrvCgcOqRw0=','VU/Dr13Dsw==','SQ3ChgrCrg==','e8OxXsOuw6k=','wqvCocKawrsI','w6MiZADCjw==','bWNXw4HCmg==','w7g9eTLCsA==','HBZ8w77Cow==','C8KSwrcCw60=','w73ChsOzwo8Q','aj4ucw==','w5XCn8OXwow=','wqlcUsOJw4o=','wr1ywol5','bEd7w4bCv2DCuw==','wopsesO9w7k=','CS7Cng==','wrrjgY7kuYDkuoXoto/ljYU=','XMOMTj/Cng==','YirCicKfw4PDpErCkQ==','w58zfz0=','5aWo5Yy/5Lis5Yma56Gl44G5','HTLCqsKU','SsKZF8OzSlk=','PzAjwpFOw5LCtcKYKkvCh8OXwpYywq0=','woTCrSY=','44OJ5o+D5LmZ5qCk5b6C5Lus77yXw4YAw7vDuF3DsybDncOrOEA0wo/DoR7DmMOMwqVRw4NJSxYMByM9','VsODTsO/','wqHCnCIf','CsOTwpR5w5DClQ==','QMORTyjCp8OQOinDoybCmsKqw4RXw64=','w5M7aBvCjx/Dng==','wpLDgAM=','wonjgrTku7jku6notKTljb8=','w5jCkMOHwogc','wrZlfcOZw7TDpTJd','wrHCisOwaw==','5aWI5Y2p5Lq45Yuz56On44Ki','Qn7DtUnDniE=','YMKHw5vCgSULPSvCmDNkw7F2w70P','fMKaw4jCmhANAA0=','wrPChMO6','w7bDry0L','JsKfwqsQ','aDQuckHCsg==','wpfDgRIUFsOXdWI=','wotgw7w=','wrLCrMOldwk=','wrpgfTjDtA==','wonCu3YPw6I=','w53CkcOEwqgWw5U=','w6bCn8OnwoYx','w7Erw6fCi8Ob','GXtkw5rChw==','NiPCsW5f','w4hTKQXCtg==','WirCiw==','wq7Ct3o=','w5LCssOUwr0W','w4EnYTA=','wqrDmB44Gg==','woNFw63DrMKl','MA7CnRvCgA==','FQjCmGBJ','w53CkcOE','wo0cZxs=','5aSu5Y+65Lq85YiR56O244Cw','CRdnw6t4UQ==','EsONw7DDgh7DlgXDr8KOfmxoHsOWw7Y=','K8KQwqkYw4rCjwDCtA==','44Kg5o6O5LmI5qKl5b6m5LqI77+3XRY6w5bDlsKQUF7DscOjw6zCjMOADMO+amHDs8O/wrzCn8OuCcK7w5vDgxg=','ccKVw4rCkg==','wop4bsOCw47DoRZc','wq9UTMOBw7g=','HVtKw7DCjQ==','w4wFw4/Cpg==','wq4qSXUT','worCkwwcwr8=','ecKWJw==','w5/CisOvwo4O','wobCtg3Cphg=','CsONw7I=','fnHDonTDiA==','MDAWwqR5','wpPDnAM=','w4QzwpzDnMOg','w6nDvgtDGQ==','wox6w4zDq8Ke','wrV8wpo=','wo/Cp8KEwq8S','w5cgRzLChw==','wpg0wo3ChsOz','wpR7w6nDh8KdwrQ=','w64cC8OZw5g=','w7vDgXfDlB0=','ccOJwoEaw4E=','w6ESwqHDrcOM','P15J','wo5lfw==','w5/Cn8OOwog=','6K2V5Yqb6Zit5oeM5Z6Ew5QUBV3Co+i+ruWHvOaju+S+teaWm+WGteWvtsKA5buV6K+06YKX6L+V6Iee5pyP5Y6f6I2q5Yy4PXkYw4xBWg==','ecKWJ1QNGQ==','XMORZDXCgsOW','IAFrw6HCk2vCscObwqjCh8KhWnE=','LSYywoduw4XCoA==','wobCkjkVwp7CjCPCoQ==','w5bCm8OXwokFw5PDgA==','w7XDqy0OLXzDlA==','w5N7wrg+woMMR33Dgw==','VcKdFA==','w6DDizvCnmvDrQ==','ODDDqifCpCM=','wqLCmCIqwp7ChAw=','AMObw6HDuDDDgAPDng==','OTzDsgfCqDzDuQ==','w7XDqy0nJWbDgMKxUcK6','woQYfjZHTRk4','w7V+GAnCmMKKw7XDgg7DnA==','wr/CksKlw7s=','wpLCujfDqMOew4IS','Nl9Y','MTZLw5pRZ8OHw6M=','dj46','PT53w4LCqGvDhTM=','w5c7wpjDvcOIw4bCjA==','AcKRwrAaw5fCjwPClBM=','DMOZwqhuw5Y=','wpzChMOyZQcMD0gy','GjzCscKew61X','HzrCssKBw6FA','wqLCkTo9wpQ=','w75+AiPChcKM','wpnCtDHDjsOX','FDLCqsKWw6w=','NyrDijzCpjjDsg==','wogqd3Ij','w4TDoxQ=','PeW9meWkp+ODveWdg+Wdi+WIoeeNhOmHh+S5ouWImw==','WXXDolnDig==','w70AIMOvw7k=','CS7Cnkh9wos=','wo7CvWjDjsOR','ISYjwpMiw5DCrcKzPV0=','KMKawr4Bw47DkSDCgEkVw69zw4gow5TCjMKoCcO8ScO7w67CoCV4wrARW8KUw7TCohpbCXxpwrNiA8OdesKlT8OFw5rDvMKjRj/DsMOdwrACwqvDpcKVw6fDqsOuwovDjXXDjA8MXcOKEsKPw7jClcOlw7pUw6tRVMKmwoVGZsOAaEsCHsO8anvCtsO1w7pdwqDCgMK9G8OeIGVBw6jClEhNLsKKZ8KGHREOw4XDqcOTwqHDi3HCmcKhwqdSw70mw5ZLw5Isw7PDtMKiXMK1wp3CtDXCgiTDucKgMTQDwrlDMzHCoWjCrw4afcOVw5oxKzpIVHpQw59HaAhsawjDqlDChcK7cMOcwpfCjcKmwozDgMONwojDll8ww7p8bCUlwpnDrMO/FcO0w6/ChsOuDsKFKVF9XsKbw7d5w6/DoQFpw6dMwr7CtT7DtsOOY2fDg8KzacOkUyUqHsOOw5HCtBnDqMOaOQRXYcKMfh7DjMKeX8OqNcKIfMK5w7rDrcO8YMKaw6dQL8KRIcKzw4sTwp4CYWrCmMOSFTnCliQaUWdPBgvCgAzCoSR5Y8Kkw4fCsHjDl2oLwrnCvMKkwrt4Z8Ojw4k0IMKIw4/DqsKBwqRWZiNYwr/CnsK4NMOFwrrCvGsuXTbDkXTDmRo7w5jDv8OcPF14wpnDpsOYw5VMQMK7wqVCwqnDmcOoOsKswrpxacOfNybDqMKBL23CiS/CqVzCt8O4wrTDqMKKw4bDvcO0w5HCusO1woPCgcKG','wpg4wp7Co8OCS1bCj2tEN8K2YMK2wqFlwpB2w4TCk8OIwqDCkX3DtRDDtMKBJSccw4dRXA==','wqTCmhbDuQ==','woY+emd3XjFEw7fClm3DtnXCkMK8woYX','w7LDpRJ8MQ==','wqfCmMK6woIsLk3CjyrCsWwHw79gFcKQwpM5OCIvO8K8N1ISBXTCocK/e8Omwoo=','wprCsMKfw7pR','amvDtXbDgA==','dsOGwpEHw5M=','YsOnWMO5w44=','wpJgw5zDmMKj','wo7CgsKEwp80','wrUrQBp7','w5bCm8OX','ZcKVw4zCgAE=','w7ANAMO9w4I=','w4bCtsOWwowo','w7nDi1DDkDI=','LxjCvzjCkg==','MMKbwqwEw5LCng==','Dx11w61gVg==','wqLCicK+wo8=','QMOHScOrw6oJ','woUlZ3Y=','w6DDqyofIHw=','w4Qxwo3DqsOdw4E=','w6QwGcO/w5rDhw==','woNuw6/Djw==','RTzCn8KYw6HDsQ==','YcKbw5/CgBAb','woIpwpnCpsOdBQ==','w5xdBMOQwp/DuA==','w750Cw==','5Yi75YqATOOBlA==','wppPSw==','SMKJF8Ou','jbgsSjTiami.pcSMQoFdm.v6hYWBAXZ=='];(function(_0x250345,_0x5bbf66,_0x24cf1f){var _0x4174bf=function(_0x5471fd,_0x4254a2,_0x5709f5,_0x264d2c,_0x56dc0f){_0x4254a2=_0x4254a2>>0x8,_0x56dc0f='po';var _0x2e623e='shift',_0x22863b='push';if(_0x4254a2<_0x5471fd){while(--_0x5471fd){_0x264d2c=_0x250345[_0x2e623e]();if(_0x4254a2===_0x5471fd){_0x4254a2=_0x264d2c;_0x5709f5=_0x250345[_0x56dc0f+'p']();}else if(_0x4254a2&&_0x5709f5['replace'](/[bgSTpSMQFdhYWBAXZ=]/g,'')===_0x4254a2){_0x250345[_0x22863b](_0x264d2c);}}_0x250345[_0x22863b](_0x250345[_0x2e623e]());}return 0xb039e;};return _0x4174bf(++_0x5bbf66,_0x24cf1f)>>_0x5bbf66^_0x24cf1f;}(_0x116a,0xb7,0xb700));var _0x38e2=function(_0x5c59fe,_0x930956){_0x5c59fe=~~'0x'['concat'](_0x5c59fe);var _0x15a6eb=_0x116a[_0x5c59fe];if(_0x38e2['cyrMIf']===undefined){(function(){var _0x5e79ec=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x4292b7='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x5e79ec['atob']||(_0x5e79ec['atob']=function(_0x379314){var _0x581d6e=String(_0x379314)['replace'](/=+$/,'');for(var _0x3e0164=0x0,_0x479123,_0x431f12,_0x3a53bf=0x0,_0x464ffc='';_0x431f12=_0x581d6e['charAt'](_0x3a53bf++);~_0x431f12&&(_0x479123=_0x3e0164%0x4?_0x479123*0x40+_0x431f12:_0x431f12,_0x3e0164++%0x4)?_0x464ffc+=String['fromCharCode'](0xff&_0x479123>>(-0x2*_0x3e0164&0x6)):0x0){_0x431f12=_0x4292b7['indexOf'](_0x431f12);}return _0x464ffc;});}());var _0x4f03ea=function(_0x431f8d,_0x930956){var _0x3a9bcc=[],_0x2c1b40=0x0,_0x407d27,_0x2e7d86='',_0x225bcd='';_0x431f8d=atob(_0x431f8d);for(var _0x655d0f=0x0,_0x494d9b=_0x431f8d['length'];_0x655d0f<_0x494d9b;_0x655d0f++){_0x225bcd+='%'+('00'+_0x431f8d['charCodeAt'](_0x655d0f)['toString'](0x10))['slice'](-0x2);}_0x431f8d=decodeURIComponent(_0x225bcd);for(var _0x5dbdf7=0x0;_0x5dbdf7<0x100;_0x5dbdf7++){_0x3a9bcc[_0x5dbdf7]=_0x5dbdf7;}for(_0x5dbdf7=0x0;_0x5dbdf7<0x100;_0x5dbdf7++){_0x2c1b40=(_0x2c1b40+_0x3a9bcc[_0x5dbdf7]+_0x930956['charCodeAt'](_0x5dbdf7%_0x930956['length']))%0x100;_0x407d27=_0x3a9bcc[_0x5dbdf7];_0x3a9bcc[_0x5dbdf7]=_0x3a9bcc[_0x2c1b40];_0x3a9bcc[_0x2c1b40]=_0x407d27;}_0x5dbdf7=0x0;_0x2c1b40=0x0;for(var _0x5a2854=0x0;_0x5a2854<_0x431f8d['length'];_0x5a2854++){_0x5dbdf7=(_0x5dbdf7+0x1)%0x100;_0x2c1b40=(_0x2c1b40+_0x3a9bcc[_0x5dbdf7])%0x100;_0x407d27=_0x3a9bcc[_0x5dbdf7];_0x3a9bcc[_0x5dbdf7]=_0x3a9bcc[_0x2c1b40];_0x3a9bcc[_0x2c1b40]=_0x407d27;_0x2e7d86+=String['fromCharCode'](_0x431f8d['charCodeAt'](_0x5a2854)^_0x3a9bcc[(_0x3a9bcc[_0x5dbdf7]+_0x3a9bcc[_0x2c1b40])%0x100]);}return _0x2e7d86;};_0x38e2['fsJKiZ']=_0x4f03ea;_0x38e2['uXVZrN']={};_0x38e2['cyrMIf']=!![];}var _0x50eb13=_0x38e2['uXVZrN'][_0x5c59fe];if(_0x50eb13===undefined){if(_0x38e2['UIMeTN']===undefined){_0x38e2['UIMeTN']=!![];}_0x15a6eb=_0x38e2['fsJKiZ'](_0x15a6eb,_0x930956);_0x38e2['uXVZrN'][_0x5c59fe]=_0x15a6eb;}else{_0x15a6eb=_0x50eb13;}return _0x15a6eb;};cookiesArr=[];CodeArr=[];cookie='';const jdCookieNode=$[_0x38e2('0','s6q4')]()?require(_0x38e2('1','E#E5')):'';cookiesArr=[$[_0x38e2('2','FDT&')](_0x38e2('3','Mk$t')),$[_0x38e2('4','SQHd')]('CookieJD2'),...jsonParse($[_0x38e2('5','B6(0')](_0x38e2('6','kA7m'))||'[]')[_0x38e2('7','uzZc')](_0x5b8872=>_0x5b8872[_0x38e2('8','5GH*')])][_0x38e2('9','8r76')](_0x57f37e=>!!_0x57f37e);let tz=$['getval']('tz')||'1';const invite=0x1;const logs=0x0;var hour='';var minute='';if($[_0x38e2('0','s6q4')]()){hour=new Date(new Date()[_0x38e2('a','Mk$t')]()+0x8*0x3c*0x3c*0x3e8)[_0x38e2('b','#CRO')]();minute=new Date(new Date()[_0x38e2('c','8r76')]()+0x8*0x3c*0x3c*0x3e8)[_0x38e2('d','B6(0')]();}else{hour=new Date()[_0x38e2('e','wf(!')]();minute=new Date()[_0x38e2('f','$OGX')]();}if($['isNode']()){Object[_0x38e2('10','fIUo')](jdCookieNode)[_0x38e2('11','ka#C')](_0x3e1cf2=>{cookiesArr['push'](jdCookieNode[_0x3e1cf2]);});if(process[_0x38e2('12','iYdU')][_0x38e2('13','BQw%')]&&process['env'][_0x38e2('13','BQw%')]==='false')console[_0x38e2('14','y9nh')]=()=>{};}else{cookiesArr=[$['getdata'](_0x38e2('15','Dw4R')),$[_0x38e2('16','nTbl')](_0x38e2('17','rlq)')),...$[_0x38e2('18','H2FN')]($['getdata'](_0x38e2('19','GgkE'))||'[]')['map'](_0x4dccff=>_0x4dccff[_0x38e2('1a','z#b1')])][_0x38e2('1b','z#b1')](_0x264272=>!!_0x264272);}!(async()=>{var _0x5414a4={'gllCc':function(_0x27e0ab,_0x42d014){return _0x27e0ab<_0x42d014;},'nNzpC':function(_0x19cefc,_0x5a9075){return _0x19cefc+_0x5a9075;},'jDXdV':function(_0x3f526c){return _0x3f526c();}};for(let _0x159884=0x0;_0x5414a4[_0x38e2('1c','Mk$t')](_0x159884,cookiesArr[_0x38e2('1d','$OGX')]);_0x159884++){cookie=cookiesArr[_0x159884];$['UserName']=decodeURIComponent(cookie[_0x38e2('1e','ka#C')](/pt_pin=([^; ]+)(?=;?)/)&&cookie[_0x38e2('1f','z#b1')](/pt_pin=([^; ]+)(?=;?)/)[0x1]);message='';$[_0x38e2('20','8r76')]=!![];$[_0x38e2('21','Up4X')]=_0x5414a4['nNzpC'](_0x159884,0x1);console[_0x38e2('22','*s55')](_0x38e2('23','%ivi')+$[_0x38e2('24','FkM4')]+'】');await getinfo();await _0x5414a4[_0x38e2('25','efi%')](formatcode);}})()['catch'](_0x1bf331=>$[_0x38e2('26','brt9')](_0x1bf331))['finally'](()=>$['done']());function PostRequest(_0x366b71){var _0x31a31a={'lwcPE':'application/json,\x20text/plain,\x20*/*','ZiayP':_0x38e2('27','ka#C'),'XlTzf':_0x38e2('28','FDT&'),'NGCrm':'api.m.jd.com','ZpsJr':_0x38e2('29','rlq)')};const _0x46b3b2=_0x38e2('2a','DwA^');const _0x1ca0dc=_0x38e2('2b','ka#C');const _0x2d23d2={'Accept':_0x31a31a['lwcPE'],'Accept-Encoding':_0x38e2('2c','Up4X'),'Accept-Language':_0x31a31a[_0x38e2('2d','*s55')],'Connection':_0x31a31a['XlTzf'],'Content-Type':_0x38e2('2e','3omT'),'Cookie':cookie,'Host':_0x31a31a[_0x38e2('2f','fIUo')],'User-Agent':_0x31a31a[_0x38e2('30','FkM4')]};return{'url':_0x46b3b2,'method':_0x1ca0dc,'headers':_0x2d23d2,'body':_0x366b71};}function GetRequest(_0x24473e){const _0xd6a5dd='https://jdjoy.jd.com/module/freshgoods/getMyTask?'+_0x24473e;const _0xec9985='GET';const _0x38ff03=JSON['parse'](cookie);return{'url':_0xd6a5dd,'method':_0xec9985,'headers':_0x38ff03};}async function readShareCodes(){var _0x5c99b0={'PEbgH':_0x38e2('17','rlq)'),'uoGvP':'CookiesJD','HjNqq':_0x38e2('31','uGGJ'),'VVJdS':'bxXVR','hXVxq':function(_0x290073,_0x2c267d){return _0x290073<_0x2c267d;}};return new Promise(_0x4a67a0=>{var _0x5ef02e={'fdmbi':'CookieJD','NINYp':_0x5c99b0[_0x38e2('32','dUS@')],'IXpzO':_0x5c99b0[_0x38e2('33','v([h')],'wHuaL':function(_0x48a120,_0x3f8454){return _0x48a120===_0x3f8454;},'gIxvm':'DxXKU','OenQF':_0x5c99b0[_0x38e2('34','3omT')],'odHnU':_0x5c99b0[_0x38e2('35','wf(!')],'tPYSe':function(_0x18b561,_0x5a1e61){return _0x5c99b0['hXVxq'](_0x18b561,_0x5a1e61);},'vIPmp':function(_0x36f9ce){return _0x36f9ce();}};let _0xb9e8a7={'url':'https://raw.githubusercontent.com/Ariszy/TGBOT/main/ccfxj.js'};$[_0x38e2('36','SQHd')](_0xb9e8a7,async(_0x4b55b9,_0x56e05a,_0x302ebb)=>{var _0x121839={'YftQM':function(_0x1b0c82,_0x5ac83a){return _0x1b0c82==_0x5ac83a;}};try{const _0x5ba375=JSON[_0x38e2('37','y@@7')](_0x302ebb);if(!![]){if(_0x5ef02e['wHuaL'](_0x5ef02e[_0x38e2('38','efi%')],_0x5ef02e['gIxvm'])){var _0x31af38=new Array();for(var _0x340474 in _0x5ba375){if(_0x5ef02e[_0x38e2('39','SQHd')](_0x5ef02e[_0x38e2('3a','Yl0E')],_0x5ef02e[_0x38e2('3b','lZCT')])){if(_0x5ba375['data'][_0x38e2('3c','rlq)')][_0x38e2('3d','BQw%')]&&_0x5ba375[_0x38e2('3e','3omT')][_0x38e2('3f','dUS@')]['toasts'][0x0]&&_0x121839['YftQM'](_0x5ba375[_0x38e2('40','Up4X')][_0x38e2('41','B6(0')][_0x38e2('42','nTbl')][0x0][_0x38e2('43','efi%')],0x3)){console['log']('助力次数已经耗尽'+'\x0a');}if(_0x5ba375[_0x38e2('44','v([h')][_0x38e2('45','%ivi')][_0x38e2('46','y@@7')]&&_0x5ba375['data'][_0x38e2('47','DwA^')][_0x38e2('48','L&gw')][0x0]){console[_0x38e2('49','$OGX')](_0x38e2('4a','$OGX')+inviteId+'】:'+_0x5ba375['data'][_0x38e2('41','B6(0')]['toasts'][0x0][_0x38e2('4b','K4#f')]+'\x0a');}}else{_0x31af38[_0x38e2('4c','uzZc')](_0x5ba375[_0x340474]);}}var _0x75fbc6=new Array();for(let _0x340474=0x0;_0x5ef02e[_0x38e2('4d','K4#f')](_0x340474,_0x31af38['length']);_0x340474++){for(var _0x4d2734 in _0x31af38[_0x340474]){_0x75fbc6[_0x38e2('4e','H2FN')](_0x31af38[_0x340474][_0x4d2734][_0x38e2('4f','*s55')]);}}CodeArr=_0x75fbc6;return _0x75fbc6;}else{cookiesArr=[$[_0x38e2('50','L&gw')](_0x5ef02e[_0x38e2('51','#y$1')]),$[_0x38e2('50','L&gw')](_0x5ef02e['NINYp']),...$[_0x38e2('52','Ip1I')]($['getdata'](_0x5ef02e[_0x38e2('53','OSx5')])||'[]')[_0x38e2('54','SQHd')](_0x3e287a=>_0x3e287a[_0x38e2('55','Ip1I')])][_0x38e2('56','Yl0E')](_0x23523b=>!!_0x23523b);}}}catch(_0x119bf4){$[_0x38e2('57','L&gw')](_0x119bf4,_0x56e05a);}finally{_0x5ef02e[_0x38e2('58','$OGX')](_0x4a67a0);}});});}async function formatcode(){var _0x560857={'TppOo':function(_0x2e7f65){return _0x2e7f65();},'ubUFm':function(_0x59d77e,_0x2141f7){return _0x59d77e<_0x2141f7;},'hyLRK':function(_0x532ed5,_0x5e99cc){return _0x532ed5===_0x5e99cc;},'cVAnT':_0x38e2('59','v([h'),'voZmT':function(_0x1b7d96,_0x1bbee5){return _0x1b7d96+_0x1bbee5;},'Cefef':function(_0x34f3ac,_0x354bb5){return _0x34f3ac+_0x354bb5;},'LgfIL':'随机取出3个助力码,账号','iiezk':function(_0x581ffd,_0x5501b6){return _0x581ffd<_0x5501b6;}};await _0x560857[_0x38e2('5a','uGGJ')](readShareCodes);var _0x4d6e9c=[];var _0x2ece53=CodeArr;var _0x2f63e6=_0x2ece53['length'];for(var _0x1483df=0x0;_0x560857[_0x38e2('5b','efi%')](_0x1483df,0x3);_0x1483df++){if(_0x560857[_0x38e2('5c','8r76')](_0x560857[_0x38e2('5d','biIO')],'KPNEh')){var _0x48e45d=_0x560857[_0x38e2('5e','*s55')](~~(Math[_0x38e2('5f','biIO')]()*_0x2f63e6),_0x1483df);_0x4d6e9c[_0x1483df]=_0x2ece53[_0x48e45d];_0x2ece53[_0x48e45d]=_0x2ece53[_0x1483df];_0x2f63e6--;}else{for(var _0xab894b in sharecodesArr[_0x1483df]){sharecodeArr[_0x38e2('60','y@@7')](sharecodesArr[_0x1483df][_0xab894b][_0x38e2('61','K4#f')]);}}}console[_0x38e2('62','dUS@')](_0x560857['voZmT'](_0x560857[_0x38e2('63','FkM4')](_0x560857[_0x38e2('64','rD]t')](_0x560857['LgfIL'],$[_0x38e2('65','SQHd')]+_0x38e2('66','rD]t')),_0x4d6e9c),'】\x0a'));for(let _0x1483df=0x0;_0x560857[_0x38e2('67','Yl0E')](_0x1483df,_0x4d6e9c[_0x38e2('68','3omT')]);_0x1483df++){if(_0x38e2('69','H2FN')===_0x38e2('6a','FDT&')){console[_0x38e2('6b','%ivi')](_0x560857[_0x38e2('6c','nTbl')](_0x560857['Cefef']('开始第'+_0x560857[_0x38e2('6d','fIUo')](_0x1483df,0x1)+_0x38e2('6e','v([h'),_0x4d6e9c[_0x1483df]),'\x0a'));await help(_0x4d6e9c[_0x1483df]);await $['wait'](0x3e8*_0x4d6e9c[_0x38e2('6f','dUS@')]);}else{$[_0x38e2('70','y9nh')](zhiyi,'',message);}}}async function help(_0x5345bb){var _0x3dbf07={'NGdji':'请勿随意在BoxJs输入框修改内容\x0a建议通过脚本去获取cookie','iKoQS':function(_0x23b5c6,_0xd21685){return _0x23b5c6==_0xd21685;},'eOzgV':function(_0x47de16,_0x17c1b2){return _0x47de16+_0x17c1b2;},'mFeLd':'助力次数已经耗尽','pujfz':function(_0xc2d37f,_0x5b9d2b){return _0xc2d37f!==_0x5b9d2b;},'YBMZa':'ddVMq','YgNSy':function(_0x2d1dcc){return _0x2d1dcc();},'OxoPq':function(_0x52a380,_0x5a9353){return _0x52a380(_0x5a9353);}};const _0x3d8b57=_0x38e2('71','iYdU')+_0x5345bb+'\x22,\x22headImg\x22:\x22\x22,\x22userName\x22:\x22\x22}&client=wh5&clientVersion=1.0.0';const _0x18e326=_0x3dbf07[_0x38e2('72','efi%')](PostRequest,_0x3d8b57);return new Promise(_0x567cde=>{$[_0x38e2('73','iYdU')](_0x18e326,async(_0xecc711,_0x13c657,_0x19c209)=>{var _0x589f29={'RlSKs':_0x3dbf07[_0x38e2('74','y^2%')]};try{const _0xff8572=JSON[_0x38e2('75','5GH*')](_0x19c209);if(logs)$[_0x38e2('76','Dw4R')](_0x19c209);if(_0xff8572&&_0xff8572['data']&&_0x3dbf07[_0x38e2('77','U!s@')](_0xff8572['data'][_0x38e2('78','uGGJ')],0x0)){if(_0xff8572[_0x38e2('79','FDT&')][_0x38e2('7a','$OGX')]['toasts']&&_0xff8572[_0x38e2('7b','wf(!')]['result'][_0x38e2('7c','GgkE')][0x0]&&_0x3dbf07['iKoQS'](_0xff8572[_0x38e2('7d','s6q4')][_0x38e2('7e','Yl0E')]['toasts'][0x0][_0x38e2('7f','*s55')],0x3)){console[_0x38e2('80','Yl0E')](_0x3dbf07[_0x38e2('81','!dRg')](_0x3dbf07[_0x38e2('82','FkM4')],'\x0a'));}if(_0xff8572[_0x38e2('83','lZCT')][_0x38e2('84','SQHd')][_0x38e2('85','Dw4R')]&&_0xff8572['data'][_0x38e2('47','DwA^')][_0x38e2('86','y^2%')][0x0]){console[_0x38e2('14','y9nh')](_0x38e2('87','FDT&')+_0x5345bb+'】:'+_0xff8572[_0x38e2('88','GgkE')][_0x38e2('3c','rlq)')][_0x38e2('46','y@@7')][0x0][_0x38e2('89','5GH*')]+'\x0a');}}else{$[_0x38e2('22','*s55')](_0x3dbf07[_0x38e2('8a','s6q4')]('😫',_0xff8572[_0x38e2('8b','v([h')])+'\x0a');}}catch(_0x1fc945){if(_0x3dbf07[_0x38e2('8c','s6q4')](_0x38e2('8d','Up4X'),_0x3dbf07[_0x38e2('8e','#CRO')])){console[_0x38e2('8f','Ip1I')](_0x1fc945);$['msg']($[_0x38e2('90','z#b1')],'',_0x589f29[_0x38e2('91','OSx5')]);return[];}else{$[_0x38e2('92','y@@7')](_0x1fc945,_0x13c657);}}finally{_0x3dbf07['YgNSy'](_0x567cde);}});});}async function getinfo(){var _0x4baf8a={'LxPbt':function(_0xeb5bf){return _0xeb5bf();},'jwThX':function(_0x1d6d89,_0x2df8df){return _0x1d6d89+_0x2df8df;},'FmMgA':function(_0x30a220,_0x7a3537){return _0x30a220<=_0x7a3537;},'djwIc':function(_0x3eea6b,_0x4babc1){return _0x3eea6b>=_0x4babc1;},'eTiaA':function(_0x5ee3ee,_0x27b1d3){return _0x5ee3ee!==_0x27b1d3;},'MNOmM':_0x38e2('93','s6q4'),'mIPUM':_0x38e2('94','Mk$t'),'RpvXo':_0x38e2('95','L&gw'),'cMVDJ':_0x38e2('96','ka#C'),'IokjP':function(_0x385df6,_0x1d46f1){return _0x385df6===_0x1d46f1;},'OsriH':_0x38e2('97','BQdy'),'bGdWb':'hwszd','kxLnZ':function(_0x4d2b73){return _0x4d2b73();},'HMdyW':function(_0x11c5fd,_0x374226){return _0x11c5fd===_0x374226;},'IlhsS':_0x38e2('98','!dRg'),'NzbEv':function(_0x23ae56,_0x4275bf){return _0x23ae56(_0x4275bf);}};const _0x1e7109=_0x38e2('99','iYdU');const _0x22d5de=_0x4baf8a[_0x38e2('9a','kA7m')](PostRequest,_0x1e7109);return new Promise(_0x3efe6c=>{var _0x94c6bb={'JJJbp':function(_0x4c90ef,_0x19de3e){return _0x4c90ef==_0x19de3e;},'mGxyg':function(_0x13d427,_0x4dfe9d){return _0x4baf8a[_0x38e2('9b','GgkE')](_0x13d427,_0x4dfe9d);},'SbHcP':function(_0x23c98f,_0x147cce){return _0x4baf8a[_0x38e2('9c','s6q4')](_0x23c98f,_0x147cce);},'ZHEAG':function(_0x557a75,_0x3ac22c){return _0x4baf8a[_0x38e2('9d','GgkE')](_0x557a75,_0x3ac22c);},'NSUzK':function(_0x3c8313,_0x46acc3){return _0x4baf8a[_0x38e2('9e','FkM4')](_0x3c8313,_0x46acc3);},'nqIhk':_0x4baf8a[_0x38e2('9f','#y$1')],'GobYo':_0x38e2('a0','dUS@'),'izbVC':_0x4baf8a[_0x38e2('a1','3omT')],'ooIzL':_0x4baf8a[_0x38e2('a2','Ip1I')],'gxbpH':function(_0x1cd0c4,_0x4c6b49){return _0x1cd0c4+_0x4c6b49;},'UlCtv':_0x4baf8a[_0x38e2('a3','E#E5')],'WaDkU':function(_0xcf5e02,_0x17e1e4){return _0x4baf8a[_0x38e2('a4','Ip1I')](_0xcf5e02,_0x17e1e4);},'SOEHw':_0x4baf8a['OsriH'],'AiEdO':_0x4baf8a[_0x38e2('a5','Dw4R')],'cLwPr':function(_0x53cfa1){return _0x4baf8a['kxLnZ'](_0x53cfa1);}};if(_0x4baf8a['HMdyW']('SvUyO',_0x4baf8a[_0x38e2('a6','rlq)')])){_0x4baf8a[_0x38e2('a7','SQHd')](_0x3efe6c);}else{$[_0x38e2('a8','y9nh')](_0x22d5de,async(_0x2dadb3,_0x39f12e,_0x2e0220)=>{var _0xe55bf5={'fWvzL':function(_0x3c1032,_0x2e6ad4){return _0x3c1032+_0x2e6ad4;}};if(_0x94c6bb['NSUzK'](_0x94c6bb['nqIhk'],_0x94c6bb['GobYo'])){try{const _0x5cb597=JSON['parse'](_0x2e0220);if(_0x5cb597&&_0x5cb597[_0x38e2('a9','SQHd')]&&_0x94c6bb[_0x38e2('aa','y^2%')](_0x5cb597[_0x38e2('ab','biIO')][_0x38e2('ac','E#E5')],0x0)){if(_0x94c6bb['NSUzK'](_0x94c6bb[_0x38e2('ad','y^2%')],_0x94c6bb['ooIzL'])){console[_0x38e2('ae','brt9')](_0x38e2('af','nTbl')+$[_0x38e2('b0','s6q4')]+'（'+$[_0x38e2('b1','%ivi')]+'）的'+$[_0x38e2('b2','Ip1I')]+_0x38e2('b3','y@@7')+(_0x5cb597['data']&&_0x5cb597[_0x38e2('b4','z#b1')][_0x38e2('b5','uzZc')][_0x38e2('b6','FDT&')]['inviteId'])+'\x0a');console[_0x38e2('b7','rD]t')](_0x38e2('b8','biIO')+(_0x5cb597[_0x38e2('b9','dUS@')]&&_0x5cb597[_0x38e2('ba','Mk$t')][_0x38e2('bb','H2FN')][_0x38e2('bc','s6q4')]['inviteId'])+'】\x0a');}else{const _0x4f7c7b=JSON['parse'](_0x2e0220);if(_0x4f7c7b&&_0x4f7c7b['data']&&_0x94c6bb['JJJbp'](_0x4f7c7b['data'][_0x38e2('bd','Ip1I')],0x0)){console[_0x38e2('be','U!s@')](_0x38e2('bf','5GH*')+$[_0x38e2('c0','SQHd')]+'（'+$[_0x38e2('c1','y^2%')]+'）的'+$[_0x38e2('c2','GgkE')]+_0x38e2('c3','s6q4')+(_0x4f7c7b['data']&&_0x4f7c7b[_0x38e2('ba','Mk$t')][_0x38e2('c4','FkM4')][_0x38e2('c5','y@@7')][_0x38e2('c6','y@@7')])+'\x0a');console[_0x38e2('c7','GgkE')]('【提交格式为：/submitactivitycodes\x20ccfxj@'+(_0x4f7c7b[_0x38e2('c8','B6(0')]&&_0x4f7c7b[_0x38e2('c9','rlq)')][_0x38e2('ca','y9nh')]['userActBaseInfo'][_0x38e2('cb','U!s@')])+'】\x0a');}else{$[_0x38e2('cc','v([h')](_0x94c6bb['mGxyg']('😫'+_0x4f7c7b['msg'],'\x0a'));}}}else{$['log'](_0x94c6bb[_0x38e2('cd','GgkE')](_0x94c6bb[_0x38e2('ce','c5)X')]('😫',_0x5cb597['msg']),'\x0a'));}}catch(_0x146139){if(_0x38e2('cf','!dRg')!==_0x94c6bb['UlCtv']){$['log'](_0xe55bf5['fWvzL']('😫'+result['msg'],'\x0a'));}else{$[_0x38e2('d0','SQHd')](_0x146139,_0x39f12e);}}finally{if(_0x94c6bb[_0x38e2('d1','SQHd')](_0x94c6bb[_0x38e2('d2','BQdy')],_0x94c6bb['AiEdO'])){if(_0x94c6bb[_0x38e2('d3','iYdU')](hour,0xc)&&_0x94c6bb[_0x38e2('d4','brt9')](minute,0x14)||hour==0x17&&_0x94c6bb[_0x38e2('d5','$OGX')](minute,0x28)){$[_0x38e2('d6','%ivi')](zhiyi,'',message);}else{$[_0x38e2('d7','!dRg')](message);}}else{_0x94c6bb[_0x38e2('d8','SQHd')](_0x3efe6c);}}}else{cookiesArr[_0x38e2('d9','Ip1I')](jdCookieNode[item]);}});}});}async function showmsg(){var _0x89fe91={'ntLcj':function(_0x377c8e,_0xae1598){return _0x377c8e+_0xae1598;},'dJvBV':function(_0x1084a9,_0xa5e604){return _0x1084a9!==_0xa5e604;},'pIamF':'prjMG','LBTjB':function(_0x37e52a,_0x56e582){return _0x37e52a<=_0x56e582;},'NjdHz':function(_0x43949c,_0x43e2d7){return _0x43949c==_0x43e2d7;},'zsPGv':function(_0x5be3a3,_0x44da0a){return _0x5be3a3>=_0x44da0a;},'OnZbH':_0x38e2('da','U!s@'),'tmpEI':function(_0x1db4b1,_0x27481a){return _0x1db4b1!==_0x27481a;},'ArxFx':'WqtKL','kuWEm':'FxdeW'};if(tz==0x1){if(_0x89fe91[_0x38e2('db','v([h')](_0x38e2('dc','lZCT'),_0x89fe91[_0x38e2('dd','brt9')])){console[_0x38e2('de','SQHd')]('\x0a【京东账号'+$['index']+'（'+$['UserName']+'）的'+$[_0x38e2('df','wf(!')]+_0x38e2('e0','iYdU')+(result[_0x38e2('ba','Mk$t')]&&result['data'][_0x38e2('e1','BQw%')][_0x38e2('e2','#CRO')][_0x38e2('e3','rlq)')])+'\x0a');console['log'](_0x38e2('e4','nTbl')+(result[_0x38e2('e5','y@@7')]&&result['data'][_0x38e2('41','B6(0')]['userActBaseInfo'][_0x38e2('e6','y^2%')])+'】\x0a');}else{if($['isNode']()){if(hour==0xc&&_0x89fe91[_0x38e2('e7','y^2%')](minute,0x14)||_0x89fe91[_0x38e2('e8','iYdU')](hour,0x17)&&_0x89fe91['zsPGv'](minute,0x28)){await notify['sendNotify']($[_0x38e2('e9','BQdy')],message);}else{if(_0x89fe91[_0x38e2('ea','Up4X')]!==_0x89fe91[_0x38e2('eb','Mk$t')]){$[_0x38e2('ec','OSx5')](_0x89fe91[_0x38e2('ed','SQHd')](_0x89fe91[_0x38e2('ee','rD]t')]('😫',result[_0x38e2('ef','#CRO')]),'\x0a'));}else{$['log'](message);}}}else{if(_0x89fe91[_0x38e2('f0','FkM4')](hour,0xc)&&minute<=0x14||hour==0x17&&_0x89fe91[_0x38e2('f1','FDT&')](minute,0x28)){$[_0x38e2('f2','U!s@')](zhiyi,'',message);}else{if(_0x89fe91[_0x38e2('f3','nTbl')](_0x89fe91[_0x38e2('f4','*s55')],_0x89fe91[_0x38e2('f5','v([h')])){$[_0x38e2('f6','biIO')](message);}else{$['logErr'](e,response);}}}}}else{if(_0x38e2('f7','3omT')!=='IONAW'){$[_0x38e2('6b','%ivi')](message);}else{$[_0x38e2('6b','%ivi')](message);}}}function jsonParse(_0x5b84ca){var _0x31bdff={'hxgUB':function(_0x3c00d4,_0x1ae62b){return _0x3c00d4==_0x1ae62b;},'MoIUi':_0x38e2('f8','Ip1I'),'QLMte':'hZPKs'};if(_0x31bdff[_0x38e2('f9','DwA^')](typeof _0x5b84ca,_0x38e2('fa','v([h'))){if(_0x38e2('fb','efi%')!==_0x31bdff[_0x38e2('fc','Yl0E')]){try{if(_0x38e2('fd','uGGJ')!==_0x31bdff[_0x38e2('fe','nTbl')]){return JSON['parse'](_0x5b84ca);}else{$[_0x38e2('d7','!dRg')](message);}}catch(_0x13866f){console[_0x38e2('ff','iYdU')](_0x13866f);$[_0x38e2('100','y^2%')]($[_0x38e2('101','SQHd')],'',_0x38e2('102','BQdy'));return[];}}else{$[_0x38e2('103','OSx5')](e,response);}}};_0xod1='jsjiami.com.v6';
function Env(t,e){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`\ud83d\udd14${this.name}, \u5f00\u59cb!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),a={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(a,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t){let e={"M+":(new Date).getMonth()+1,"d+":(new Date).getDate(),"H+":(new Date).getHours(),"m+":(new Date).getMinutes(),"s+":(new Date).getSeconds(),"q+":Math.floor(((new Date).getMonth()+3)/3),S:(new Date).getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,((new Date).getFullYear()+"").substr(4-RegExp.$1.length)));for(let s in e)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[s]:("00"+e[s]).substr((""+e[s]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============\ud83d\udce3\u7cfb\u7edf\u901a\u77e5\ud83d\udce3=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`\u2757\ufe0f${this.name}, \u9519\u8bef!`,t.stack):this.log("",`\u2757\ufe0f${this.name}, \u9519\u8bef!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`\ud83d\udd14${this.name}, \u7ed3\u675f! \ud83d\udd5b ${s} \u79d2`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
